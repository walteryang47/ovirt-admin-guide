# 跟踪标签历史

ETL 服务每一分钟都会收集管理员门户中显示的标签信息，并将这些信息保存在标签历史表中。ETL 服务会跟踪 5 类改变：

* 在管理员门户中创建一个标签 - ETL 服务会复制标签的信息，标签在标签树中位置以及和标签树中与其它对象的关系。

* 在管理员门户中的将一个实体附加到标签树上 - ETL 服务会将其作为一个新的记录保存在 **ovirt_engine_history** 数据库中。

* 更新一个标签 - ETL 服务会复制标签的变更信息并将其作为一个新的记录保存在 **ovirt_engine_history** 数据库中。

* 从管理员门户中删除掉一个实体或者标签分支 - **ovirt_engine_history** 数据库会在新的记录中标识已删除的标签及与其对应实体之间的关系信息。被删除的标签以及与实体的对应关系会只会被标记为删除或者分离。为了保持历史报表和陈述的正确性，它们只是标记为删除，但不会被物理删除。

* 删除一个标签分支 - 被修改标签及与其对应的实体之间的关系的操作作为一条新纪录添加到数据库中。为了保持历史报表和陈述的正确性，它们只是标记为更新，但不会被物理更新。
