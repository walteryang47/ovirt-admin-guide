# 报表
oVirt 企业级虚拟化包含了一个复杂的管理历史数据库，报表应用程序为生成数据中心，集群和主机层级的报表会使用到这个数据库。这一章提供了一些信息，包含了允许你针对历史数据库设置查询并生成报表。

oVirt 企业级虚拟化管理端使用了 **PostgreSQL 8.4.12** 作为数据库平台来存储虚拟化环境状态以及其配置和性能状态的信息。在安装时，oVirt 企业级虚拟化管理端会创建一个名叫 **engine** 的 PostgreSQL 数据库。

安装 **rhevm-dwh** 包会创建一个名叫 **ovirt_engine_history** 的第二个数据库，随着时间的推移，这个数据库中包含了每分钟从 **engine** 操作数据库中收集到的历史配置信息和统计指标。跟踪数据库中的改变会提供一些关于数据库对象的信息，这些信息有利于用户分析活动，提升性并能解决一些难题。

> **警告**
>
> oVirt 企业级虚拟化管理器提取转换加载服务，即 **ovirt-engine-dwhd**，执行了 **ovirt_engine_history** 数据库中数据的复制。这个服务是基于一个名叫 Talend Open Studio 的数据集成工具。这个服务被配置为在安装 dwh 包期间实行自动启动。它是一个负责从 **engine** 数据库中提取数据的 Java 程序，它将数据转换为历史数据库标准的形式并将转换完的数据加载到 **ovirt_engine_history** 数据库中。fanhang

> 不能停止 **ovirt-engine-dwhd** 服务。

随着时间的推移，**ovirt_engine_dwhd** 数据库模式发生了些许变化。数据库包含一组用于持续提供被支持的和标记了版本的API的数据库视图。视图是一个包含了数据库查询结果集的虚拟表。数据库通过 **SELECT** 语句保存视图的定义。**SELECT** 语句的查询结果构成了视图所反应出来的虚拟表。用户在 **PL/PGSQL** 语句中引用了的视图名称，这和引用表的方式是一样的。
