# 存储池管理器（SPM）

在 oVirt 管理中心中，存储池管理器（Storage Pool Manager，SPM）指的是一个赋予在数据中心中某个主机上的角色，它用于管理数据中心心中的存储域。SPM 可以运行在数据中心的任意一台主机上；oVirt 企业级虚拟化管理中心会将这个角色赋给数据中心中的一台主机。SPM 并不会影响该主机正常的功能，作为 SPM 运行的主机仍然可以运行虚拟资源。

SPM 是通过协调存储域上的元数据来控制存储的访问的，包括创建、删除和修改虚拟磁盘（镜像），对虚拟机镜像做快照，模板的创建以及（在  SAN
设备上）分配稀疏的块设备等等。这些任务都是独占式的，为了保持元数据的一致性，在一个数据中心内同一时间只能有一个主机作为
SPM。

oVirt 管理中心保证在数据中心中总是有一个可用的 SPM 主机。如果当前的 SPM
主机无法访问存储，管理中心将会重新选择数据中心中的其它主机作为 SPM。当
SPM
启动时，其必须确保自身是唯一获得该角色的主机；因此它将会请求存储的租约。该过程可能需要一些时间。


