# 在线迁移的需求

在线迁移是指允许用户无缝的在主机之间移动虚拟机，这使得 oVirt 企业级虚拟化管理平台
可以支持很多维护业务。在使用在线迁移功能之前，请确保 oVirt 企业级虚拟化环境配置
正确。

要支持在线迁移，目前需要满足以下条件:

* 源主机和目的主机必须处于同一个集群中，两个主机的 CPU 必选兼容。

* 源主机和目的主机必须同事处于 **Up** 状态。

* 源主机和目的主机必须对同样的虚拟网络和 VLANs 具有同样的访问权限。

* 源主机和目的主机必须对虚拟机所在的存储域具有访问权限。

* 目的主机必须具有足够的 CPU 兼容性来运行虚拟机。

* 目的主机必须具有足够的空闲内存来运行虚拟机。

* 在虚拟机的自定义属性中，待迁移的虚拟机的 cache 设置不能为除 none
  之外的其他值。

此外，为了达到很好的性能，在设置网络的时候，存储和管理的网络必须分开,
这样可以避免存储的网络流量和管理的网络都在一个网卡，减轻网络负担。在迁移
的时候会在主机之间传送大量的数据。

在线迁移的数据是在管理网络上流通的。每一个迁移都限制了能使用的最大
带宽(大约是 30MBPS)，能同时并发的迁移数也是有限制的。如果没有这些
限制的话，一旦并发数很多，可能会造成网络拥塞。因此我们推荐在设置主机的
网络的时候，最好把用于存储，显示，虚拟机数据等的网络互相隔离开，使得
网络的利用率最大。
