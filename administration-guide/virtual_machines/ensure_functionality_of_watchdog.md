# 确认看门狗的功能正常

**概述**

确认看门狗设备已经附加到了虚拟机并且 **watchdog** 服务在运行。

> **警告**
>
> 该功能仅用于测试环境用于测试看门狗的功能，禁止用于生产机器。


**确认看门狗的功能正常**

1. 登录到附加了看门狗设备的虚拟机上。

2. 运行下面的命令确认看门狗设备已经被虚拟机识别：

   ```# lspci | grep watchdog -i```

3. 运行下面其中的一条命令来确认看门狗是活动的：

   * 运行如下命令来触发一个内核错误：

     ```# echo c > /proc/sysrq-trigger```

   * 运行如下命令来停止 **watchdog** 服务：

     ```# kill -9 'pgrep watchdog'```


**结果**

看门狗的计时器不再被重置，所以看门狗计时器在短时间内即达到了 0。当看门狗计时器达到了 0时，在 **Watchdog 操作** 下拉列表中选择的动作将会被执行。
